# 更新日志 (Changelog)

## v1.2.0 (2026-02-01)

### ✨ 新功能

- 📝 **Halo博客发布** - 添加完整的Halo 2.x博客发布支持
  - 使用Snapshots API创建内容快照
  - 自动发布文章到Halo博客
  - 支持配置分类和标签
  
- 🌐 **本地预览服务器** - 独立的预览服务器
  - Web界面预览早报内容
  - 支持局域网访问（手机也可查看）
  - 查看历史早报列表

- 👥 **多用户邮件支持** - 支持配置多个收件人
  - `to_addresses` 列表配置
  - 自动发送给所有用户

### 🔧 优化

- **统一发布流程** - 新增 `publish.py` 脚本
  - 一键完成：生成早报 → 发送邮件 → 发布Halo
  - 支持独立操作（只发邮件、只发Halo）
  
- **邮件内容修复**
  - 修复HTML标签渲染问题
  - 添加Markdown链接转换
  - 完整显示所有文章内容

- **预览页面优化**
  - 添加博客链接到底部
  - 修复marked.js加载问题

### 🐛 修复

- 修复邮件重复发送问题
- 修复generate_morning_news.py重复代码
- 修复marked.js文件缺失
- 修复预览服务器静态文件路由

### 📝 文档

- 完善README文档
- 添加Halo配置说明
- 添加预览服务器使用说明
- 完善多用户配置说明

---

## v1.1.0 (2026-01-31)

### ✨ 新功能

- 📧 **HTML邮件渲染** - 邮件内容支持完整的Markdown渲染，包括表格、代码块、引用等
- 🎨 **紫色渐变主题** - 邮件头部使用紫色渐变样式
- 📱 **响应式设计** - 邮件模板适配移动端和桌面端
- 📊 **日志归档** - 所有执行日志保存到 `~/.clawdbot/logs/`

### 🔧 优化

- 更新 `send_email.py` 使用 `markdown` 库解析内容
- 优化邮件模板样式
- 增强虚拟环境依赖检查
- 清理项目中的备份文件

### 🐛 修复

- 修复邮件发送时的HTML编码问题
- 修复Python 3.13兼容性问题

### 📝 文档

- 更新 `README.md` - 完善安装和配置说明
- 添加使用指南和定时任务设置说明

---

## v1.0.1 (2026-01-31)

### 🐛 Bug修复
- 修复Markdown渲染问题（关闭Jinja2自动转义）
- 简化模板生成更干净的Markdown
- 修复渲染错误处理和调试日志
- 修复AI配置API Key加载问题
- 修复邮箱配置收件人显示问题
- 修复链接新标签打开问题
- 修复QQ邮箱发送格式问题

### 📝 文档更新
- 添加API接口文档（API.md）
- 更新README.md，添加Web服务器使用说明
- 更新CHANGELOG.md

---

## v1.0.0 (2026-01-31)

### ✨ 新功能
- 添加预览服务器 - Web端预览早报
- 添加AI配置功能 - 支持多种AI提供商
- 添加邮件发送功能 - 自动发送早报到邮箱

### 🎨 界面优化
- 全新渐变背景和毛玻璃效果
- 动画过渡效果
- 精致的按钮样式
- 优化的模态框
- 响应式设计适配手机

### ⚡ 性能优化
- 支持使用已处理数据生成，加速流程
- 邮件发送添加超时，避免卡住
- 后台发送邮件，不阻塞主流程

---

## 功能说明

### 一键生成
1. 点击"🚀 手动生成"按钮
2. 系统自动抓取RSS → 处理数据 → 生成早报 → 发送邮件
3. 查看生成进度和日志

### AI配置
支持的提供商：
- OpenAI
- OpenRouter
- DeepSeek
- Minimax
- 硅基流动
- 通义千问

### 邮件配置
- SMTP服务器
- SMTP端口（默认465）
- 邮箱账号
- 授权码
- 收件人地址

---

## 技术栈
- Python 3.11+
- Jinja2 模板引擎
- marked.js Markdown渲染
- HTML/CSS/JS
